!function(){"use strict";angular.module("bTable",[])}(),function(){"use strict";function e(e){function n(){e.debugEnabled&&e.debugEnabled(!1)}n()}angular.module("bTable").config(e),e.$inject=["$logProvider"]}(),function(){"use strict";angular.module("bTable").constant("config",r);var e={controllerActivateSuccess:"controller.activateSuccess"},n={backspace:8,tab:9,enter:13,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46},r={appErrorPrefix:"[bTable Error]",events:e,keyCodes:n,version:"0.0.1"}}(),function(){function e(e){function n(){if(!r.model.dataDsp){var e=angular.copy(r.model.data);r.model.dataDsp=e}}var r=this;n(),e.$watch(function(){return r.model.dataDsp},function(n){r.model.dataDsp=angular.copy(n),e.displayPage=r.model.pager.currentPage},!0)}angular.module("bTable").controller("bPaginatorController",e),e.$inject=["$scope"]}(),function(){function e(e){function n(e,n,a){return{pre:r,post:t}}function r(e,n,r,t){console.log("bPaginatorLink activated"),n.addClass("pagination")}function t(e,n,r,t){function a(n){var r,t=4,a=0;e.range=[];var o=i(n);o>t?(a=d.currentPage>0?Math.max(a,d.currentPage-Math.floor(t/2)):d.currentPage,a>o-t&&(a=o-t),r=Math.min(o,a+t)):(a=0,r=o);for(var l=a;r>=l;l++)e.range.push(l)}function o(){return d.currentPage===i()?"disabled":""}function l(){return 0===d.currentPage?"disabled":""}function c(){d.currentPage<i()&&d.currentPage++}function i(){var e=t.model.data;return d.pages?d.pages-1:e?Math.ceil(e.length/d.itemsPerPage)-1:void 0}function u(){d.currentPage>0&&d.currentPage--}function s(e){d.currentPage=e}if(e.range=[],e.isNextPage=o,e.isPrevPage=l,e.nextPage=c,e.pageCount=i,e.prevPage=u,e.setPage=s,t.model||t.model.pager){var d=t.model.pager;e.currentPage=d.currentPage,e.displayPage=e.currentPage,e.$watch(function(){return t.model.data},function(e){a(e)},!0)}}function a(e,n){var r="";return r+='<ul class="pull-right" ng-if="range.length > 0"><li class="padded-r" ng-class="isPrevPage()"><a href="javascript:void(0)" ng-click="prevPage()"><i class="fa fa-chevron-left"></i></a></li><li class="padded-r" ng-repeat="n in range"ng-class="{active: n == displayPage}" ng-click="setPage(n)"><a href="javascript:void(0)">{{n+1}}</a></li><li class="padded-r" ng-class="isNextPage()"><a href="javascript:void(0)" ng-click="nextPage()"><i class="fa fa-chevron-right"></i></a></li></ul>'}return{bindToController:!0,controller:"bPaginatorController",controllerAs:"vm",compile:n,restrict:"EA",scope:{model:"="},template:a,transclude:!0}}angular.module("bTable").directive("bPaginator",e),e.$inject=["$q"]}(),function(){function e(e){function r(e,n,r){return{post:t}}function t(r,t,s,d,g){var f="$$rowData",p=document.createComment(" end bRow "),v=l();r.$watchCollection(function(e){return d.model.dataDsp},function(r){var s,d,m,b,h,P,$,w,T,C,x,D,y=t[0],S=l();w=a,T=[];for(var k in r)r.hasOwnProperty(k)&&"$"!==k.charAt(0)&&T.push(k);for(b=T.length,x=new Array(b),s=0;b>s;s++)if(h=r===T?s:T[s],P=r[h],$=w(h,P,s),v[$])C=v[$],delete v[$],S[$]=C,x[s]=C;else{if(S[$])throw angular.forEach(x,function(e){e&&e.scope&&(v[e.id]=e)}),new Error("Duplicate rows detected. The grid cannot render the same row twice. Use angular.copy to create a new instance. Duplicate value: "+P);x[s]={id:$,scope:void 0,clone:void 0},S[$]=!0}for(var E in v){if(C=v[E],D=o(C.clone),e.leave(D),D[0].parentNode)for(d=D.length,s=0;d>s;s++)D[s][n]=!0;C.scope.$destroy()}for(s=0;b>s;s++)if(h=r===T?s:T[s],P=r[h],C=x[s],C.scope){m=y;do m=m.nextSibling;while(m&&m[n]);c(C)!==m&&e.move(o(C.clone),null,angular.element(y)),y=i(C),u(C.scope,s,f,P,b)}else g(function(n,r){C.scope=r;var t=p.cloneNode(!1);n[n.length++]=t,e.enter(n,null,angular.element(y)),y=t,C.clone=n,S[C.id]=C,u(C.scope,s,f,P,b)});v=S})}function a(e){return e}function o(e){var n=e[0],r=e[e.length-1],t=[n];do{if(n=n.nextSibling,!n)break;t.push(n)}while(n!==r);return angular.element(t)}function l(){return Object.create(null)}function c(e){return e.clone[0]}function i(e){return e.clone[e.clone.length-1]}function u(e,n,r,t,a){e[r]=t,e.$index=n,e.$first=0===n,e.$last=n===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&n)),e.row={data:e.$$rowData}}return console.log("bRowDirective activated"),{bindToController:!0,compile:r,multiElement:!0,require:"^bTable",restrict:"A",transclude:"element",$$tlb:!0}}var n="$$NG_REMOVED";angular.module("bTable").directive("bRow",e),e.$inject=["$animate"]}(),function(){function e(e){function n(e,n,t){return{post:r}}function r(n,r,a,o,l){var c,i,u;n.$watch(function(){return n.row.expanded},function(n){n?i||l(function(n,t){i=t,n[n.length++]=document.createComment(" end bRowExpanded "),c={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),i&&(i.$destroy(),i=null),c&&(u=t(c.clone),e.leave(u).then(function(){u=null}),c=null))})}function t(e){var n=e[0],r=e[e.length-1],t=[n];do{if(n=n.nextSibling,!n)break;t.push(n)}while(n!==r);return angular.element(t)}return{compile:n,restrict:"AE",require:"^?bRow",transclude:"element"}}angular.module("bTable").directive("bRowExpanded",e),e.$inject=["$animate"]}(),function(){function e(){function e(e,r){return{post:n}}function n(e,n,r){function t(){e.row.expanded?e.row.expanded=!1:e.row.expanded=!0}console.log("bRowToggleLink activated"),e.toggle=t}function r(e,n){var r="";return r+='<a ng-click="toggle()"><i class="fa" ng-class="{\'fa-angle-right\': !row.expanded, \'fa-angle-down\': row.expanded}"></i></a>'}return{compile:e,restrict:"AE",require:"^?bRow",template:r}}angular.module("bTable").directive("bRowToggle",e)}(),function(){function e(){function e(e,n){var r="";return r+="<span ng-transclude></span>"}return{restrict:"A",transclude:!0,template:e,link:function(e,n,r,t){}}}angular.module("bTable").directive("bSearch",e)}(),function(){function e(e,n){function r(e,n,r){return{post:t}}function t(r,t,a,l,c){function i(){var r=a.bSort;l.model.sorter||(l.model.sorter={});var t=l.model.sorter,o=l.model;if(t.isSort=!1,t.predicate===r?t.reverse=!t.reverse:(t.predicate=r,t.reverse=!1),o.pager&&o.pager.currentPage&&(o.pager.currentPage=0),o.events&&o.events.onSort&&_.isFunction(o.events.onSort)){var c=[o.events.onSort()];return e.all(c).then(function(){o.sorter.isSort=!0,o.dataDsp=angular.copy(o.data)})}o.data=n(o.data,t.predicate,t.reverse),t.isSort=!0}console.log("bRowLink activated");var u=a.bSort;l.model.sorter;r.sort=i,r.$watch(function(){return l.model.sorter},function(e){o(r,u,e)},!0)}function a(){var e="";return e+='<span class="hand" ng-click="sort()"><span ng-transclude></span><i class="fa {{cssClass}}" style="padding-left: 5px;"></i></span>'}function o(e,n,r){e.cssClass="",r&&n===r.predicate&&(r.reverse?e.cssClass="fa-chevron-down":e.cssClass="fa-chevron-up")}return console.log("bSortDirective activated"),{compile:r,require:"^bTable",restrict:"A",scope:!0,template:a,transclude:!0}}angular.module("bTable").directive("bSort",e),e.$inject=["$q","orderByFilter"]}(),function(){function e(e,n,r,t){function a(){function a(){var e=o.model;if(e||!e.pager){if(e.events&&e.events.onPageChange&&_.isFunction(e.events.onPageChange)){var n=[e.events.onPageChange()];return r.all(n).then(function(){e.pager.isPageChanged=!0,e.dataDsp=angular.copy(e.data)})}var a=e.pager.itemsPerPage*e.pager.currentPage;e.dataDsp=t(e.data,e.pager.itemsPerPage,a),e.sorter.isPageChanged=!0}}if(e.debug("bTableController activated"),!o.model.dataDsp){var l=angular.copy(o.model.data);o.model.dataDsp=l}o.model.sorter||(o.model.sorter={}),o.model.pager||(o.model.pager={}),o.model.pager.currentPage||(o.model.pager.currentPage=0),o.model.searcher||(o.model.searcher={}),n.$watch(function(){return o.model.data},function(e){o.model.dataDsp=angular.copy(e)},!0),n.$watch(function(){return o.model.pager.currentPage},function(e,n){e!=n&&a()})}var o=this;a()}angular.module("bTable").controller("bTableController",e),e.$inject=["$log","$scope","$q","limitToFilter"]}(),function(){function e(){function e(e,n,r,t){console.log("bTableLink activated"),n.addClass("table"),n.addClass("table-striped")}return{bindToController:!0,controller:"bTableController",controllerAs:"vm",link:e,restrict:"A",scope:{model:"="}}}angular.module("bTable").directive("bTable",e)}();